<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>9 . 리스트 (List) | 데이터 과학 프로그래밍</title>
<meta name="author" content="한국 알(R) 사용자회">
<meta name="description" content="9.1 리스트는 순서(sequence)다. 문자열처럼, 리스트(list)는 값의 순서(sequence)다. 문자열에서, 값은 문자지만, 리스트에서는 임의 자료형(type)도 될 수 있다. 리스트 값은 요소(elements)나 때때로 항목(items)으로 불린다. 신규 리스틀 생성하는 방법은 여러 가지가 있다. 가장 간단한 방법은 list()함수로...">
<meta name="generator" content="bookdown 0.26 with bs4_book()">
<meta property="og:title" content="9 . 리스트 (List) | 데이터 과학 프로그래밍">
<meta property="og:type" content="book">
<meta property="og:description" content="9.1 리스트는 순서(sequence)다. 문자열처럼, 리스트(list)는 값의 순서(sequence)다. 문자열에서, 값은 문자지만, 리스트에서는 임의 자료형(type)도 될 수 있다. 리스트 값은 요소(elements)나 때때로 항목(items)으로 불린다. 신규 리스틀 생성하는 방법은 여러 가지가 있다. 가장 간단한 방법은 list()함수로...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="9 . 리스트 (List) | 데이터 과학 프로그래밍">
<meta name="twitter:description" content="9.1 리스트는 순서(sequence)다. 문자열처럼, 리스트(list)는 값의 순서(sequence)다. 문자열에서, 값은 문자지만, 리스트에서는 임의 자료형(type)도 될 수 있다. 리스트 값은 요소(elements)나 때때로 항목(items)으로 불린다. 신규 리스틀 생성하는 방법은 여러 가지가 있다. 가장 간단한 방법은 list()함수로...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">데이터 과학 프로그래밍</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">기계와의 경쟁 1</a></li>
<li class="book-part">들어가며</li>
<li><a class="" href="r-vs-python.html"><span class="header-section-number">1</span> R vs 파이썬</a></li>
<li><a class="" href="r-intro.html"><span class="header-section-number">2</span> 프로그래밍 학습 이유</a></li>
<li class="book-part">프로그래밍</li>
<li><a class="" href="r-var.html"><span class="header-section-number">3</span> 변수, 표현식, 문장</a></li>
<li><a class="" href="r-cont.html"><span class="header-section-number">4</span> 조건부 실행</a></li>
<li><a class="" href="r-func.html"><span class="header-section-number">5</span> 함수</a></li>
<li><a class="" href="r-iter.html"><span class="header-section-number">6</span> 반복(Iteration)</a></li>
<li class="book-part">자료구조</li>
<li><a class="" href="r-string.html"><span class="header-section-number">7</span> 문자열</a></li>
<li><a class="" href="r-file.html"><span class="header-section-number">8</span> 파일</a></li>
<li><a class="active" href="r-list.html"><span class="header-section-number">9</span> 리스트 (List)</a></li>
<li><a class="" href="named-list.html"><span class="header-section-number">10</span> 딕셔너리</a></li>
<li><a class="" href="r-tuple.html"><span class="header-section-number">11</span> 튜플(Tuples)</a></li>
<li class="book-part">분야별 도구</li>
<li><a class="" href="regex.html"><span class="header-section-number">12</span> 정규 표현식</a></li>
<li><a class="" href="r-db.html"><span class="header-section-number">13</span> 데이터베이스와 SQL</a></li>
<li><a class="" href="r-webservice.html"><span class="header-section-number">14</span> 웹서비스 사용하기</a></li>
<li><a class="" href="r-automation.html"><span class="header-section-number">15</span> 작업 자동화</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="r-list" class="section level1" number="9">
<h1>
<span class="header-section-number">9 . </span> 리스트 (List)<a class="anchor" aria-label="anchor" href="#r-list"><i class="fas fa-link"></i></a>
</h1>
<div id="r-list-sequence" class="section level2" number="9.1">
<h2>
<span class="header-section-number">9.1</span> 리스트는 순서(sequence)다.<a class="anchor" aria-label="anchor" href="#r-list-sequence"><i class="fas fa-link"></i></a>
</h2>
<p>문자열처럼, 리스트(list)는 값의 순서(sequence)다. 문자열에서, 값은 문자지만, 리스트에서는 임의 자료형(type)도 될 수 있다. 리스트 값은 요소(elements)나 때때로 항목(items)으로 불린다.</p>
<p>신규 리스틀 생성하는 방법은 여러 가지가 있다. 가장 간단한 방법은 <code><a href="https://rdrr.io/r/base/list.html">list()</a></code>함수로 요소를 감싸는 것이다.</p>
<div class="sourceCode" id="cb333"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">30</span>, <span class="fl">40</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">'crunchy frog'</span>, <span class="st">'ram bladder'</span>, <span class="st">'lark vomit'</span><span class="op">)</span></code></pre></div>
<p>첫번째 예제는 4개 정수 리스트다. 두번째 예제는 3개 문자열 리스트다. 문자열 요소가 동일한 자료형(type)일 필요는 없다. 다음 리스트는 문자열, 부동 소수점 숫자, 정수, (아!) 또 다른 리스트를 담고 있다.</p>
<div class="sourceCode" id="cb334"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">'spam'</span>, <span class="fl">2.0</span>, <span class="fl">5</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>또 다른 리스트 내부에 리스트가 <strong>중첩(nested)</strong>되어 있다.</p>
<p>어떤 요소도 담고 있지 않는 리스트를 빈 리스트(empty list)라고 부르고, <code><a href="https://rdrr.io/r/base/list.html">list()</a></code>로 생성한다.</p>
<p>예상했듯이, 리스트 값을 변수에 대입할 수 있다.</p>
<div class="sourceCode" id="cb335"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">cheeses</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">'Cheddar'</span>, <span class="st">'Edam'</span>, <span class="st">'Gouda'</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## [[1]]
## [1] "Cheddar"
## 
## [[2]]
## [1] "Edam"
## 
## [[3]]
## [1] "Gouda"</code></pre>
<div class="sourceCode" id="cb337"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">numbers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">17</span>, <span class="fl">123</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## [[1]]
## [1] 17
## 
## [[2]]
## [1] 123</code></pre>
<div class="sourceCode" id="cb339"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">empty</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## list()</code></pre>
</div>
<div id="r-list-mutable" class="section level2" number="9.2">
<h2>
<span class="header-section-number">9.2</span> 리스트는 변경가능하다.<a class="anchor" aria-label="anchor" href="#r-list-mutable"><i class="fas fa-link"></i></a>
</h2>
<p>리스트 요소에 접근하는 구문은 문자열 문자에 접근하는 것과 동일한 꺾쇠 괄호 연산자다. 꺽쇠 괄호 내부 표현식은 인덱스를 명세한다. 기억할 것은 인덱스는 1 에서부터 시작한다는 것이다.</p>
<div class="sourceCode" id="cb341"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cheeses</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></code></pre></div>
<pre><code>## [[1]]
## [1] "Cheddar"</code></pre>
<p>문자열과 마찬가지로, 리스트 항목 순서를 바꾸거나, 리스트에 새로운 항목을 다시 대입할 수 있기 때문에 리스트는 변경가능하다. 꺾쇠 괄호 연산자가 대입문 왼쪽편에 나타날 때, 새로 대입될 리스트 요소를 나타낸다.</p>
<div class="sourceCode" id="cb343"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">numbers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">17</span>, <span class="fl">123</span><span class="op">)</span>

<span class="op">(</span><span class="va">numbers</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">5</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<p>리스트 numbers 첫번째 요소는 <code>123</code> 값을 가지고 있었으나, 이제 <code>5</code> 값을 가진다.</p>
<p>리스트를 인덱스와 요소의 관계로 생각할 수 있다. 이 관계를 <strong>매핑(mapping)</strong>이라고 부른다. 각각의 인덱스는 요소 중 하나에 <strong>대응(“maps to”)</strong>된다.</p>
<p>리스트 인덱스는 문자열 인덱스와 동일한 방식으로 동작한다.</p>
<ul>
<li>어떠한 정수 표현식도 인덱스로 사용할 수 있다.</li>
<li>존재하지 않는 요소를 읽거나 쓰려고 하면, 일종의 인덱스 오류 (IndexError)로 <code>NULL</code>이 반환된다.</li>
<li>인덱스가 음의 값이면, 해당 리스트 원소가 누락된다.</li>
</ul>
<p><code>%in%</code> 연산자도 또한 리스트에서 동작하니 리스트 원소로 존재하는지 여부를 판별하는데 사용할 수 있다.</p>
<div class="sourceCode" id="cb345"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cheeses</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">'Cheddar'</span>, <span class="st">'Edam'</span>, <span class="st">'Gouda'</span><span class="op">)</span>

<span class="st">'Edam'</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">cheeses</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb347"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="st">'Brie'</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">cheeses</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
</div>
<div id="r-list-traversal" class="section level2" number="9.3">
<h2>
<span class="header-section-number">9.3</span> 리스트 순행법<a class="anchor" aria-label="anchor" href="#r-list-traversal"><i class="fas fa-link"></i></a>
</h2>
<p>리스트 요소를 운행하는 가장 흔한 방법은 <code>for</code>문을 사용하는 것이다. 문자열에서 사용한 것과 구문은 동일하다.</p>
<div class="sourceCode" id="cb349"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">for</span><span class="op">(</span><span class="va">cheese</span> <span class="kw">in</span> <span class="va">cheeses</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">cheese</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<pre><code>## [1] "Cheddar"
## [1] "Edam"
## [1] "Gouda"</code></pre>
<p>리스트 요소를 읽기만 한다면 이것만으로도 잘 동작한다. 하지만, 리스트 요소를 쓰거나, 갱신하는 경우, 인텍스가 필요하다. 리스트 요소를 쓰거나 갱신하는 일반적인 방법은 <code><a href="https://rdrr.io/r/base/seq.html">seq_along()</a></code> 함수를 조합하는 것이다.</p>
<div class="sourceCode" id="cb351"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">numbers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span>

<span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq_along</a></span><span class="op">(</span><span class="va">numbers</span><span class="op">)</span><span class="op">)</span><span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"before:"</span>, <span class="va">numbers</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span>, <span class="st">"\n"</span><span class="op">)</span>
  <span class="va">numbers</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">numbers</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span> <span class="op">*</span> <span class="fl">2</span>
  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"after:"</span>, <span class="va">numbers</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span>, <span class="st">"\n"</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<pre><code>## before: 1 
## after: 2 
## before: 2 
## after: 4 
## before: 3 
## after: 6 
## before: 4 
## after: 8 
## before: 5 
## after: 10</code></pre>
<p>상기 루프는 리스트를 운행하고 각 요소를 갱신한다. <code><a href="https://rdrr.io/r/base/seq.html">seq_along()</a></code> 함수는 1 에서 <span class="math inline">\(n\)</span> 까지 리스트 인텍스를 반환한다. 여기서, <span class="math inline">\(n\)</span>은 리스트 길이가 된다. 매번 루프가 반복될 때마다, <code>i</code>는 다음 요소 인덱스를 얻는다. 몸통 부문 대입문은 <code>i</code>를 사용해서 요소의 이전 값을 읽고 새 값을 대입한다.</p>
<p>빈 리스트(<code><a href="https://rdrr.io/r/base/list.html">list()</a></code>)에 대해서 <code>for</code>문은 결코 몸통 부문을 실행하지 않는다.</p>
<div class="sourceCode" id="cb353"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">for</span><span class="op">(</span><span class="va">x</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">'This never happens.'</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<p>리스트가 또 다른 리스트를 담을 수 있지만, 중첩된 리스트는 여전히 요소 하나로 간주된다. 다음 리스트 길이는 4 이다.</p>
<div class="sourceCode" id="cb354"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">'spam'</span>, <span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">'Brie'</span>, <span class="st">'Roquefort'</span>, <span class="st">'Pol le Veq'</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## [[1]]
## [1] "spam"
## 
## [[2]]
## [1] 1
## 
## [[3]]
## [[3]][[1]]
## [1] "Brie"
## 
## [[3]][[2]]
## [1] "Roquefort"
## 
## [[3]][[3]]
## [1] "Pol le Veq"
## 
## 
## [[4]]
## [[4]][[1]]
## [1] 1
## 
## [[4]][[2]]
## [1] 2
## 
## [[4]][[3]]
## [1] 3</code></pre>
</div>
<div id="r-list-operator" class="section level2" number="9.4">
<h2>
<span class="header-section-number">9.4</span> 리스트 연산자<a class="anchor" aria-label="anchor" href="#r-list-operator"><i class="fas fa-link"></i></a>
</h2>
<p><code><a href="https://rdrr.io/r/base/append.html">append()</a></code> 함수 연산자는 리스트를 추가하여 결합시킨다.</p>
<div class="sourceCode" id="cb356"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>
<span class="va">b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">6</span><span class="op">)</span>
<span class="va">c</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/append.html">append</a></span><span class="op">(</span><span class="va">a</span>, <span class="va">b</span><span class="op">)</span></code></pre></div>
<p>유사하게 <code><a href="https://rdrr.io/r/base/rep.html">rep()</a></code> 함수를 활용하면 주어진 횟수만큼 리스트를 반복한다.</p>
<div class="sourceCode" id="cb357"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>, <span class="fl">4</span><span class="op">)</span></code></pre></div>
<pre><code>## [[1]]
## [1] 0
## 
## [[2]]
## [1] 0
## 
## [[3]]
## [1] 0
## 
## [[4]]
## [1] 0</code></pre>
<div class="sourceCode" id="cb359"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>, <span class="fl">3</span><span class="op">)</span></code></pre></div>
<pre><code>## [[1]]
## [1] 1
## 
## [[2]]
## [1] 2
## 
## [[3]]
## [1] 3
## 
## [[4]]
## [1] 1
## 
## [[5]]
## [1] 2
## 
## [[6]]
## [1] 3
## 
## [[7]]
## [1] 1
## 
## [[8]]
## [1] 2
## 
## [[9]]
## [1] 3</code></pre>
<p>첫 예제는 <code>list(0)</code>을 4회 반복한다. 두 번째 예제는 <code>list(1, 2, 3)</code> 리스트를 3회 반복한다.</p>
</div>
<div id="r-list-slice" class="section level2" number="9.5">
<h2>
<span class="header-section-number">9.5</span> 리스트 슬라이스<a class="anchor" aria-label="anchor" href="#r-list-slice"><i class="fas fa-link"></i></a>
</h2>
<p><strong>슬라이스(slice)</strong> 연산자는 리스트에도 또한 동작한다.</p>
<div class="sourceCode" id="cb361"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">t</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">'a'</span>, <span class="st">'b'</span>, <span class="st">'c'</span>, <span class="st">'d'</span>, <span class="st">'e'</span>, <span class="st">'f'</span><span class="op">)</span>

<span class="va">t</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span></code></pre></div>
<pre><code>## [[1]]
## [1] "b"
## 
## [[2]]
## [1] "c"</code></pre>
<div class="sourceCode" id="cb363"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">t</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span></code></pre></div>
<pre><code>## [[1]]
## [1] "a"
## 
## [[2]]
## [1] "b"
## 
## [[3]]
## [1] "c"
## 
## [[4]]
## [1] "d"</code></pre>
<div class="sourceCode" id="cb365"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">t</span><span class="op">[</span><span class="fl">4</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">t</span><span class="op">)</span><span class="op">]</span></code></pre></div>
<pre><code>## [[1]]
## [1] "d"
## 
## [[2]]
## [1] "e"
## 
## [[3]]
## [1] "f"</code></pre>
<div class="sourceCode" id="cb367"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">t</span><span class="op">[</span><span class="op">]</span></code></pre></div>
<pre><code>## [[1]]
## [1] "a"
## 
## [[2]]
## [1] "b"
## 
## [[3]]
## [1] "c"
## 
## [[4]]
## [1] "d"
## 
## [[5]]
## [1] "e"
## 
## [[6]]
## [1] "f"</code></pre>
<p>첫 번째 인덱스를 1로 지정하면, 슬라이스는 처음부터 시작한다. 두 번째 인덱스를 <code><a href="https://rdrr.io/r/base/length.html">length()</a></code> 함수로 리스트 길이를 지정하면, 슬라이스는 끝까지 간다. 그래서 양쪽의 인덱스를 생략하면, <code>t[]</code>같이 지정하면 슬라이스 결과는 전체 리스트를 복사한 것이 된다.</p>
<p>리스트는 변경이 가능하기 때문에 리스트를 접고, 돌리고, 훼손하는 연산을 수행하기 전에 복사본을 만들어 두는 것이 유용하다.</p>
<p>대입문 왼편의 슬라이스 연산자로 복수의 요소를 갱신할 수 있다.</p>
<div class="sourceCode" id="cb369"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">t</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">'a'</span>, <span class="st">'b'</span>, <span class="st">'c'</span>, <span class="st">'d'</span>, <span class="st">'e'</span>, <span class="st">'f'</span><span class="op">)</span>
<span class="va">t</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">'x'</span>, <span class="st">'y'</span><span class="op">)</span>

<span class="va">t</span></code></pre></div>
<pre><code>## [[1]]
## [1] "a"
## 
## [[2]]
## [1] "x"
## 
## [[3]]
## [1] "y"
## 
## [[4]]
## [1] "d"
## 
## [[5]]
## [1] "e"
## 
## [[6]]
## [1] "f"</code></pre>
</div>
<div id="r-list-function" class="section level2" number="9.6">
<h2>
<span class="header-section-number">9.6</span> 리스트 함수<a class="anchor" aria-label="anchor" href="#r-list-function"><i class="fas fa-link"></i></a>
</h2>
<p>R은 리스트 자료형에 연산할수 있는 함수를 제공한다. 예를 들어, 덧붙이기 (<code>append</code>) 함수는 리스트 끝에 신규 요소를 추가한다.</p>
<div class="sourceCode" id="cb371"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">t</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">'a'</span>, <span class="st">'b'</span>, <span class="st">'c'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/append.html">append</a></span><span class="op">(</span><span class="va">t</span>, <span class="st">'d'</span><span class="op">)</span></code></pre></div>
<pre><code>## [[1]]
## [1] "a"
## 
## [[2]]
## [1] "b"
## 
## [[3]]
## [1] "c"
## 
## [[4]]
## [1] "d"</code></pre>
<p>정렬 (order) 함수는 낮음에서 높음으로 리스트 요소를 정렬한다. 리스트에서 <code><a href="https://rdrr.io/r/base/lapply.html">sapply()</a></code> 혹은 <code><a href="https://rdrr.io/r/base/unlist.html">unlist()</a></code> 함수로 값으로 변환시키고 <code><a href="https://rdrr.io/r/base/order.html">order()</a></code> 함수를 통해 내림차순 혹은 오름차순으로 정렬 인덱스를 뽑아 리스트내 원소를 정렬시킨다.</p>
<div class="sourceCode" id="cb373"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">t</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">'d'</span>, <span class="st">'c'</span>, <span class="st">'e'</span>, <span class="st">'b'</span>, <span class="st">'a'</span><span class="op">)</span>

<span class="va">t</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="va">t</span>,<span class="st">'[['</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">]</span></code></pre></div>
<pre><code>## [[1]]
## [1] "a"
## 
## [[2]]
## [1] "b"
## 
## [[3]]
## [1] "c"
## 
## [[4]]
## [1] "d"
## 
## [[5]]
## [1] "e"</code></pre>
<div class="sourceCode" id="cb375"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">t</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="va">t</span><span class="op">)</span>, decreasing<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">]</span></code></pre></div>
<pre><code>## [[1]]
## [1] "e"
## 
## [[2]]
## [1] "d"
## 
## [[3]]
## [1] "c"
## 
## [[4]]
## [1] "b"
## 
## [[5]]
## [1] "a"</code></pre>
</div>
<div id="r-list-delete" class="section level2" number="9.7">
<h2>
<span class="header-section-number">9.7</span> 리스트 요소 삭제<a class="anchor" aria-label="anchor" href="#r-list-delete"><i class="fas fa-link"></i></a>
</h2>
<p>리스트 요소를 삭제하는 방법이 몇 가지 있다. 리스트 요소 명칭을 알고 있다면, 리스트 요소에 <code>NULL</code>을 대입하여 삭제시킨다.</p>
<div class="sourceCode" id="cb377"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">t</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>a<span class="op">=</span><span class="st">'a'</span>, b<span class="op">=</span><span class="st">'b'</span>, c <span class="op">=</span> <span class="st">'c'</span><span class="op">)</span>
<span class="va">t</span><span class="op">[[</span><span class="st">"c"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NULL</span>
<span class="va">t</span><span class="op">$</span><span class="va">c</span> <span class="op">&lt;-</span> <span class="cn">NULL</span>
<span class="va">t</span></code></pre></div>
<pre><code>## $a
## [1] "a"
## 
## $b
## [1] "b"</code></pre>
<p><code>NULL</code>을 대입하여 삭제시킨 리스트는 제거된 요소를 반환한다.</p>
<div class="sourceCode" id="cb379"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">t</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NULL</span>
<span class="va">t</span></code></pre></div>
<pre><code>## $b
## [1] "b"</code></pre>
<p><code>t[[1]]</code> 리스트 인덱스를 통해 요소에 접근하고 <code>NULL</code>을 대입하여 삭제한다.</p>
<p>(인덱스 혹인 리스트 요인 이름이 아닌) 제거할 요소값을 알고 있다면, 리스트 요인값을 활용해서 제거하는 것도 가능하다.</p>
<div class="sourceCode" id="cb381"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">t</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>a<span class="op">=</span><span class="st">'x'</span>, b<span class="op">=</span><span class="st">'y'</span>, c <span class="op">=</span> <span class="st">'z'</span><span class="op">)</span>

<span class="va">t</span><span class="op">[</span><span class="va">t</span> <span class="op">!=</span> <span class="st">"y"</span><span class="op">]</span></code></pre></div>
<pre><code>## $a
## [1] "x"
## 
## $c
## [1] "z"</code></pre>
<p>하나 이상의 요소를 제거하기 위해서, 슬라이스 인덱스(slice index)를 사용하는 것도 가능하다.</p>
<div class="sourceCode" id="cb383"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">t</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">'a'</span>, <span class="st">'b'</span>, <span class="st">'c'</span>, <span class="st">'d'</span>, <span class="st">'e'</span>, <span class="st">'f'</span><span class="op">)</span>
<span class="va">t</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span><span class="op">]</span></code></pre></div>
<pre><code>## [[1]]
## [1] "a"
## 
## [[2]]
## [1] "f"</code></pre>
<p>슬라이스는 첫번째 인덱스를 포함하고 두 번째 인덱스까지 모든 요소를 선택한다.</p>
</div>
<div id="리스트와-함수" class="section level2" number="9.8">
<h2>
<span class="header-section-number">9.8</span> 리스트와 함수<a class="anchor" aria-label="anchor" href="#%EB%A6%AC%EC%8A%A4%ED%8A%B8%EC%99%80-%ED%95%A8%EC%88%98"><i class="fas fa-link"></i></a>
</h2>
<p>루프를 작성하지 않고도 리스트를 빠르게 살펴볼 수 있는 리스트에 적용할 수 있는 내장함수를 활용하는 것도 방법이지만, 깔끔한 세상(tidyverse) 생태계의 일원인 <code>purrr</code> 함수형 프로그래밍 팩키지에 내장된 함수를 활용하는 것도 권장된다.</p>
<p>하지만, 다음과 같이 1차원 리스트는 <code><a href="https://rdrr.io/r/base/unlist.html">unlist()</a></code> 함수를 활용하여 벡터로 변환해서 사용하는 것이 편리한 경우가 많다.</p>
<div class="sourceCode" id="cb385"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">nums</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">41</span>, <span class="fl">12</span>, <span class="fl">9</span>, <span class="fl">74</span>, <span class="fl">15</span><span class="op">)</span> <span class="op"><a href="https://stringr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="va">unlist</span>

<span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">nums</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode" id="cb387"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">nums</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 74</code></pre>
<div class="sourceCode" id="cb389"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">nums</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb391"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">nums</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 154</code></pre>
<div class="sourceCode" id="cb393"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">nums</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">nums</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 25.7</code></pre>
<p><code><a href="https://rdrr.io/r/base/sum.html">sum()</a></code>, <code><a href="https://rdrr.io/r/base/Extremes.html">max()</a></code>, <code><a href="https://rdrr.io/r/base/length.html">length()</a></code> 등 함수는 입력 자료형이 무엇이냐에 따라 다르게 동작할 수 있고, 입력 자료형에 결측값 등 특이값이 들어있는 경우 기대했던 결과가 나올 수 없으니 필히 자료형을 사전에 점검하고 활용하도록 한다.</p>
<p>리스트를 사용해서, 앞서 작성한 프로그램을 다시 작성해서 사용자가 입력한 숫자 목록 평균을 계산한다.</p>
<p>우선 리스트 없이 평균을 계산하는 프로그램:</p>
<div class="sourceCode" id="cb395"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## 프로그램 명칭: `list_average.R`</span>
<span class="va">total</span> <span class="op">&lt;-</span> <span class="fl">0</span>
<span class="va">count</span> <span class="op">&lt;-</span> <span class="fl">0</span>

<span class="kw">while</span> <span class="op">(</span><span class="cn">TRUE</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">inp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readline.html">readline</a></span><span class="op">(</span><span class="st">'Enter a number: '</span><span class="op">)</span>
  <span class="kw">if</span><span class="op">(</span><span class="va">inp</span> <span class="op">==</span> <span class="st">'done'</span><span class="op">)</span> <span class="kw">break</span>

  <span class="va">value</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">inp</span><span class="op">)</span>
  <span class="va">total</span> <span class="op">&lt;-</span> <span class="va">total</span> <span class="op">+</span> <span class="va">value</span>
  <span class="va">count</span> <span class="op">&lt;-</span> <span class="va">count</span> <span class="op">+</span> <span class="fl">1</span>
<span class="op">}</span>

<span class="va">average</span> <span class="op">&lt;-</span> <span class="va">total</span> <span class="op">/</span> <span class="va">count</span>
<span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">'Average:'</span>, <span class="va">average</span><span class="op">)</span></code></pre></div>
<p>상기 프로그램에서, <code>count</code> 와 <code>sum</code> 변수를 사용해서 반복적으로 사용자가 숫자를 입력하면 값을 저장하고, 지금까지 사용자가 입력한 누적 합계를 계산한다. R 콘솔에서 <code><a href="https://rdrr.io/r/base/source.html">source()</a></code> 함수를 사용해서 실행한 결과는 다음과 같다.</p>
<div class="sourceCode" id="cb396"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb396-1"><a href="r-list.html#cb396-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">source</span>(<span class="st">"code/list_average.R"</span>)</span>
<span id="cb396-2"><a href="r-list.html#cb396-2" aria-hidden="true" tabindex="-1"></a>Enter a number<span class="sc">:</span> <span class="dv">10</span></span>
<span id="cb396-3"><a href="r-list.html#cb396-3" aria-hidden="true" tabindex="-1"></a>Enter a number<span class="sc">:</span> <span class="dv">20</span></span>
<span id="cb396-4"><a href="r-list.html#cb396-4" aria-hidden="true" tabindex="-1"></a>Enter a number<span class="sc">:</span> <span class="dv">30</span></span>
<span id="cb396-5"><a href="r-list.html#cb396-5" aria-hidden="true" tabindex="-1"></a>Enter a number<span class="sc">:</span> done</span>
<span id="cb396-6"><a href="r-list.html#cb396-6" aria-hidden="true" tabindex="-1"></a>Average<span class="sc">:</span> <span class="dv">20</span></span></code></pre></div>
<p>단순하게, 사용자가 입력한 각 숫자를 기억하고 내장함수를 사용해서 프로그램 마지막에 합계와 갯수를 계산한다.</p>
<div class="sourceCode" id="cb397"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## 프로그램 명칭: `list_datatype.R`</span>
<span class="va">numlist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="op">)</span>

<span class="kw">while</span> <span class="op">(</span><span class="cn">TRUE</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">inp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readline.html">readline</a></span><span class="op">(</span><span class="st">'Enter a number: '</span><span class="op">)</span>
  <span class="kw">if</span><span class="op">(</span><span class="va">inp</span> <span class="op">==</span> <span class="st">'done'</span><span class="op">)</span> <span class="kw">break</span>

  <span class="va">value</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">inp</span><span class="op">)</span>
  <span class="va">numlist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/append.html">append</a></span><span class="op">(</span><span class="va">numlist</span>, <span class="va">value</span><span class="op">)</span>
<span class="op">}</span>

<span class="va">num_vector</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="va">numlist</span><span class="op">)</span>

<span class="va">average</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">num_vector</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">num_vector</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">'List Average:'</span>, <span class="va">average</span><span class="op">)</span></code></pre></div>
<p>루프가 시작되기 전 빈 리스트를 생성하고, 매번 숫자를 입력할 때마다 숫자를 리스트에 추가한다. 프로그램 마지막에 간단하게 리스트 총합을 계산하고, 평균을 산출하기 위해서 입력한 숫자 개수로 나눈다. R 콘솔에서 <code><a href="https://rdrr.io/r/base/source.html">source()</a></code> 함수를 사용해서 실행한 결과는 다음과 같다.</p>
<div class="sourceCode" id="cb398"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb398-1"><a href="r-list.html#cb398-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">source</span>(<span class="st">"code/list_datatype-average.R"</span>)</span>
<span id="cb398-2"><a href="r-list.html#cb398-2" aria-hidden="true" tabindex="-1"></a>Enter a number<span class="sc">:</span> <span class="dv">40</span></span>
<span id="cb398-3"><a href="r-list.html#cb398-3" aria-hidden="true" tabindex="-1"></a>Enter a number<span class="sc">:</span> <span class="dv">50</span></span>
<span id="cb398-4"><a href="r-list.html#cb398-4" aria-hidden="true" tabindex="-1"></a>Enter a number<span class="sc">:</span> <span class="dv">60</span></span>
<span id="cb398-5"><a href="r-list.html#cb398-5" aria-hidden="true" tabindex="-1"></a>Enter a number<span class="sc">:</span> done</span>
<span id="cb398-6"><a href="r-list.html#cb398-6" aria-hidden="true" tabindex="-1"></a>List Average<span class="sc">:</span> <span class="dv">50</span></span></code></pre></div>
</div>
<div id="r-list-string" class="section level2" number="9.9">
<h2>
<span class="header-section-number">9.9</span> 리스트와 문자열<a class="anchor" aria-label="anchor" href="#r-list-string"><i class="fas fa-link"></i></a>
</h2>
<p>문자열(string)은 <strong>문자 순서(sequence)</strong>이고, 리스트는 <strong>값 순서(sequence)</strong>이다. 하지만 리스트 문자는 문자열과 같지는 않다. 문자열을 리스트 문자로 변환하기 위해서, <code><a href="https://rdrr.io/r/base/strsplit.html">strsplit()</a></code> 함수를 사용한다.</p>
<div class="sourceCode" id="cb399"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">s</span> <span class="op">&lt;-</span> <span class="st">'spam'</span>
<span class="va">t</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html">strsplit</a></span><span class="op">(</span><span class="va">s</span>, <span class="cn">NULL</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="https://stringr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html">strsplit</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span>
<span class="va">t</span></code></pre></div>
<pre><code>## [[1]]
## [1] "s"
## 
## [[2]]
## [1] "p"
## 
## [[3]]
## [1] "a"
## 
## [[4]]
## [1] "m"</code></pre>
<p><code>list</code>는 내장함수 이름이기 때문에, 변수명으로 사용하는 것을 피해야 한다. <code>l</code>을 사용하면 1 처럼 보이기 때문에 가능하면 피한다. 그래서, <code>t</code>를 사용했다.</p>
<p><code><a href="https://rdrr.io/r/base/strsplit.html">strsplit()</a></code> 함수는 문자열을 구분자(이번 경우에는 <code>NULL</code>)를 사용해서 문자 각각으로 쪼갠다. 문자열 단어로 쪼개려면, 구분자를 바꿔 예를 들어 공백을 기준으로 쪼갠다.</p>
<div class="sourceCode" id="cb401"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">s</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">'pining for the fjords'</span><span class="op">)</span>
<span class="va">t</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html">strsplit</a></span><span class="op">(</span><span class="va">s</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, <span class="st">" "</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="https://stringr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html">strsplit</a></span><span class="op">(</span><span class="st">" "</span><span class="op">)</span>
<span class="va">t</span></code></pre></div>
<pre><code>## [[1]]
## [1] "pining"
## 
## [[2]]
## [1] "for"
## 
## [[3]]
## [1] "the"
## 
## [[4]]
## [1] "fjords"</code></pre>
<p>분할 함수를 사용해서 문자열을 리스트 토큰으로 쪼개면, 인덱스 연산자(‘[]’)를 사용하여 리스트의 특정 단어를 볼 수 있다.</p>
<p>옵션 인자로 단어 경계로 어떤 문자를 사용할 것인지 지정하는데 사용되는 구분자 (delimiter)를 활용하여 분할 <code><a href="https://rdrr.io/r/base/strsplit.html">strsplit()</a></code> 함수를 호출한다. 다음 예제는 구분자로 하이픈(‘-’)을 사용한 사례다.</p>
<div class="sourceCode" id="cb403"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">s</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">'spam-spam-spam'</span><span class="op">)</span>
<span class="va">delimiter</span> <span class="op">&lt;-</span> <span class="st">'-'</span>
<span class="fu"><a href="https://rdrr.io/r/base/strsplit.html">strsplit</a></span><span class="op">(</span><span class="va">s</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, <span class="va">delimiter</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op"><a href="https://stringr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html">strsplit</a></span><span class="op">(</span><span class="st">" "</span><span class="op">)</span></code></pre></div>
<pre><code>## [[1]]
## [1] "spam"
## 
## [[2]]
## [1] "spam"
## 
## [[3]]
## [1] "spam"</code></pre>
<p>합병 (<code>paste</code>) 함수는 분할 (<code>strsplit</code>) 함수의 역이다. 문자열 리스트를 받아 리스트 요소를 연결한다.</p>
<div class="sourceCode" id="cb405"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">t</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">'pining'</span>, <span class="st">'for'</span>, <span class="st">'the'</span>, <span class="st">'fjords'</span><span class="op">)</span>
<span class="va">delimiter</span> <span class="op">&lt;-</span> <span class="st">' '</span>
<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">t</span>, <span class="va">delimiter</span>, collapse <span class="op">=</span> <span class="st">""</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "pining for the fjords "</code></pre>
<p>상기의 경우, 구분자가 공백 문자여서 결합 (paste) 함수가 단어 사이에 공백을 넣는다. 공백없이 문자열을 결합하기 위해서, 구분자로 빈 문자열 ’’을 사용한다.</p>
</div>
<div id="r-list-parsing" class="section level2" number="9.10">
<h2>
<span class="header-section-number">9.10</span> 라인 파싱하기<a class="anchor" aria-label="anchor" href="#r-list-parsing"><i class="fas fa-link"></i></a>
</h2>
<p>파일을 읽을 때 통상, 단지 전체 라인을 출력하는 것 말고 뭔가 다른 것을 하고자 한다. 종종 “흥미로운 라인을” 찾아서 라인을 <strong>파싱(parse)</strong>하여 흥미로운 부분을 찾고자 한다. “From”으로 시작하는 라인에서 요일을 찾고자 하면 어떨까?</p>
<p><code>From stephen.marquard@uct.ac.za</code> <strong>Sat</strong> <code>Jan  5 09:14:16 2008</code></p>
<p>이런 종류의 문제에 직면했을 때, <code>stringr</code> 팩키지 분할 <code><a href="https://stringr.tidyverse.org/reference/str_split.html">str_split()</a></code> 함수가 매우 효과적이다. 작은 프로그램을 작성하여 “From”으로 시작하는 라인을 찾고 <code><a href="https://stringr.tidyverse.org/reference/str_split.html">str_split()</a></code> 함수로 파싱하고 라인의 흥미로운 부분을 출력한다.</p>
<div class="sourceCode" id="cb407"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fhand</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/connections.html">file</a></span><span class="op">(</span><span class="st">'data/mbox-short.txt'</span>, <span class="st">"r"</span><span class="op">)</span>
<span class="kw">for</span><span class="op">(</span><span class="va">line</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/readLines.html">readLines</a></span><span class="op">(</span><span class="va">fhand</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">line</span> <span class="op">&lt;-</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_trim.html">str_trim</a></span><span class="op">(</span><span class="va">line</span><span class="op">)</span>
  <span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html">str_detect</a></span><span class="op">(</span><span class="va">line</span>, <span class="st">"^From "</span><span class="op">)</span><span class="op">)</span> <span class="kw">next</span>
  
  <span class="va">words</span> <span class="op">&lt;-</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_split.html">str_split</a></span><span class="op">(</span><span class="va">line</span>, <span class="st">" "</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>
  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="va">words</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span>, <span class="st">"\n"</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<p><code>if</code> 문의 축약 형태를 사용하여 <code><a href="https://rdrr.io/r/base/Control.html">next</a></code> 문을 <code>if</code>문과 동일한 라인에 놓았다. <code>if</code> 문 축약 형태는 <code><a href="https://rdrr.io/r/base/Control.html">next</a></code> 문을 들여쓰기를 다음 라인에 한 것과 동일하다.</p>
<p>프로그램은 다음을 출력한다.</p>
<div class="sourceCode" id="cb408"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">Sat</span>
<span class="va">Fri</span>
<span class="va">Fri</span>
<span class="va">Fri</span>
<span class="va">...</span></code></pre></div>
<p>나중에, 매우 정교한 기술에 대해서 학습해서 정확하게 검색하는 비트(bit) 수준 정보를 찾아 내기 위해서 작업할 라인을 선택하고, 어떻게 해당 라인을 뽑아낼 것이다.</p>
</div>
<div id="r-list-object-value" class="section level2" number="9.11">
<h2>
<span class="header-section-number">9.11</span> 객체와 값(value)<a class="anchor" aria-label="anchor" href="#r-list-object-value"><i class="fas fa-link"></i></a>
</h2>
<p>다음 대입문을 실행하면,</p>
<div class="sourceCode" id="cb409"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="st">'banana'</span>
<span class="va">b</span> <span class="op">&lt;-</span> <span class="st">'banana'</span></code></pre></div>
<p><code>a</code> 와 <code>b</code> 모두 문자열을 참조하지만, 두 변수가 동일한 문자열을 참조하는지 알 수 없다. 두 가지 가능한 상태가 있다.</p>
<div class="inline-figure"><img src="fig/list-reference.png" alt="문자열 참조" width="77%"></div>
<p>한 가지 경우는 <code>a</code> 와 <code>b</code>가 같은 값을 가지는 다른 두 객체를 참조하는 것이다. 두 번째 경우는 같은 객체를 참조하는 것이다.</p>
<p>두 변수가 동일한 객체를 참조하는지를 확인하기 위해서, 파이썬에서는 <code>is</code> 연산자가 사용된다.</p>
<div class="sourceCode" id="cb410"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb410-1"><a href="r-list.html#cb410-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span><span class="er">&gt;&gt;</span> a <span class="ot">=</span> <span class="st">'banana'</span></span>
<span id="cb410-2"><a href="r-list.html#cb410-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span><span class="er">&gt;&gt;</span> b <span class="ot">=</span> <span class="st">'banana'</span></span>
<span id="cb410-3"><a href="r-list.html#cb410-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span><span class="er">&gt;&gt;</span> a is b</span>
<span id="cb410-4"><a href="r-list.html#cb410-4" aria-hidden="true" tabindex="-1"></a>True</span></code></pre></div>
<p>이 경우, 파이썬은 하나의 문자열 객체를 생성하고 <code>a</code> 와 <code>b</code> 모두 동일한 객체를 참조한다.</p>
<p>하지만, 리스트 두 개를 생성할 때, 객체가 두 개다.</p>
<div class="sourceCode" id="cb411"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb411-1"><a href="r-list.html#cb411-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span><span class="er">&gt;&gt;</span> a <span class="ot">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb411-2"><a href="r-list.html#cb411-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span><span class="er">&gt;&gt;</span> b <span class="ot">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb411-3"><a href="r-list.html#cb411-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span><span class="er">&gt;&gt;</span> a is b</span>
<span id="cb411-4"><a href="r-list.html#cb411-4" aria-hidden="true" tabindex="-1"></a>False</span></code></pre></div>
<p>상기의 경우, 두 개의 리스트는 동등하다고 말할 수 있다. 왜냐하면 동일한 요소를 가지고 있기 때문이다. 하지만, 같은 객체는 아니기 때문에 동일하지는 않다. 두 개의 객체가 동일하다면, 두 객체는 또한 등등하다. 하지만, 동등하다고 해서 반듯이 동일하지는 않다.</p>
<p>지금까지 “객체(object)”와 “값(value)”을 구분 없이 사용했지만, 객체가 값을 가진다라고 말하는 것이 좀더 정확하다. <code>a = [1,2,3]</code> 을 실행하면, <code>a</code> 는 특별한 순서 요소값을 갖는 리스트 객체로 참조한다. 만약 또 다른 리스트가 동일한 요소를 가진다면, 그 리스트는 같은 값을 가진다고 말한다.</p>
<p>R도 이와 유사하게 참조와 복사에 대해 동일한 개념을 활용하여 처리한다.</p>
</div>
<div id="r-list-aliasing" class="section level2" number="9.12">
<h2>
<span class="header-section-number">9.12</span> 에일리어싱(Aliasing)<a class="anchor" aria-label="anchor" href="#r-list-aliasing"><i class="fas fa-link"></i></a>
</h2>
<p><code>a</code>가 객체를 참조하고, <code>b &lt;- a</code> 대입하다면, 두 변수는 동일한 객체를 참조한다.</p>
<div class="sourceCode" id="cb412"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>
<span class="va">b</span> <span class="op">&lt;-</span> <span class="va">a</span>

<span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/identical.html">identical</a></span><span class="op">(</span><span class="va">a</span>, <span class="va">b</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>객체와 변수의 연관짖는 것을 <strong>참조(reference)</strong>라고 한다. 상기의 경우 동일한 객체에 두 개의 참조가 있다.</p>
<p>하나 이상의 참조를 가진 객체는 한개 이상의 이름을 갖게 되어서, 객체가 <strong>에일리어스(aliased)</strong> 되었다고 한다.</p>
<p>만약 에일리어스된 객체가 변경 가능하면, 변화의 여파는 다른 객체에도 파급된다.</p>
<p>이와 같은 행동이 유용하기도 하지만, 오류를 발생시키기도 쉽다. 일반적으로, <strong>변경가능한 객체(mutable object)</strong>로 작업할 때 에일리어싱을 피하는 것이 안전하다.</p>
<p>파이썬 문자열 같이 변경 불가능한 객체에 에일리어싱은 그렇게 문제가 되지 않는다.</p>
<div class="sourceCode" id="cb414"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb414-1"><a href="r-list.html#cb414-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span><span class="er">&gt;&gt;</span> a <span class="ot">=</span> <span class="st">'banana'</span></span>
<span id="cb414-2"><a href="r-list.html#cb414-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span><span class="er">&gt;&gt;</span> b <span class="ot">=</span> <span class="st">'banana'</span></span></code></pre></div>
<p>상기 예제에서, <code>a</code> 와 <code>b</code>가 동일한 문자열을 참조하든 참조하지 않든 거의 차이가 없다.</p>
</div>
<div id="r-list-debug" class="section level2" number="9.13">
<h2>
<span class="header-section-number">9.13</span> 디버깅<a class="anchor" aria-label="anchor" href="#r-list-debug"><i class="fas fa-link"></i></a>
</h2>
<p>부주의한 리스트 사용이나 변경가능한 객체를 사용하는 경우 디버깅을 오래 할 수 있다. 다음에 일반적인 함정 유형과 회피하는 방법을 소개한다.</p>
<ol style="list-style-type: decimal">
<li><strong>관용구를 선택하고 고수하라.</strong></li>
</ol>
<p>리스트와 관련된 문제 일부는 리스트를 가지고 할 수 있는 것이 너무 많다는 것이다.</p>
<ol start="2" style="list-style-type: decimal">
<li><strong>에일리어싱을 회피하기 위해서 사본 만들기.</strong></li>
</ol>
<p>인자를 변경하는 정렬 (sort)같은 메쏘드를 사용하지만, 원 리스트도 보관되길 원한다면, 사본을 만든다.</p>
<div class="sourceCode" id="cb415"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">orig</span> <span class="op">&lt;-</span> <span class="va">t</span>
<span class="va">t</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="va">t</span><span class="op">)</span>, decreasing<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">]</span></code></pre></div>
<p>상기 예제에서 원 리스트는 그대로 둔 상태로 새로 정렬된 리스트를 반환된 결과는 <code>t</code>에 저장한다. 하지만 이 경우에는, 변수명으로 <code>sorted</code>를 사용하는 것을 피해야 한다!</p>
<ol start="3" style="list-style-type: decimal">
<li><strong>리스트, 분할 (split), 파일</strong></li>
</ol>
<p>파일을 읽고 파싱할 때, 프로그램이 중단될 수 있는 입력값을 마주할 수많은 기회가 있다. 그래서 파일을 훑어 “건초더미에서 바늘”을 찾는 프로그램을 작성할 때 사용한 가디언 패턴(guardian pattern)을 다시 살펴보는 것은 좋은 생각이다.</p>
<p>파일 라인에서 요일을 찾는 프로그램을 다시 살펴보자.</p>
<p><code>From stephen.marquard@uct.ac.za</code> <strong>Sat</strong> <code>Jan  5 09:14:16 2008</code></p>
<p>각 라인을 단어로 나누었기 때문에, startswith를 사용하지 않고, 라인에 관심있는 단어가 있는지 살펴보기 위해서 단순하게 각 라인의 첫 단어를 살펴본다. 다음과 같이 continue 문을 사용해서 “From”이 없는 라인을 건너 뛴다.</p>
<div class="sourceCode" id="cb416"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fhand</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/connections.html">file</a></span><span class="op">(</span><span class="st">'data/mbox-short.txt'</span>, <span class="st">"r"</span><span class="op">)</span>
<span class="kw">for</span><span class="op">(</span><span class="va">line</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/readLines.html">readLines</a></span><span class="op">(</span><span class="va">fhand</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
  <span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html">str_detect</a></span><span class="op">(</span><span class="va">line</span>, <span class="st">"^From "</span><span class="op">)</span><span class="op">)</span> <span class="kw">next</span>
  
  <span class="va">words</span> <span class="op">&lt;-</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_split.html">str_split</a></span><span class="op">(</span><span class="va">line</span>, <span class="st">" "</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>
  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="va">words</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span>, <span class="st">"\n"</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<p>프로그램이 훨씬 간단하고, 파일 끝에 있는 새줄(newline)을 제거하기 위해 <code><a href="https://stringr.tidyverse.org/reference/str_trim.html">str_trim()</a></code> 함수를 사용할 필요도 없다. 하지만, 더 좋아졌는가?</p>
<p>작동하는 것 같지만, 경우에 따라서 첫줄에 Sat 를 출력하고 나서 오류로 프로그램이 정상 동작에 실패하는 경우도 있다. 무엇이 잘못되었을까? 어딘가 엉망이 된 데이터가 있어 우아하고, 총명하며, 매우 R스러운 프로그램을 망가뜨린건가?</p>
<p>오랜 동안 프로그램을 응시하고 머리를 짜내거나, 다른 사람에게 도움을 요청할 수 있지만, 빠르고 현명한 접근법은 <code><a href="https://rdrr.io/r/base/print.html">print()</a></code>문을 추가하는 것이다. <code><a href="https://rdrr.io/r/base/print.html">print()</a></code>문을 넣는 가장 좋은 장소는 프로그램이 동작하지 않는 라인 앞이 적절하고, 프로그램 실패를 야기할 것 같은 데이터를 출력한다.</p>
<p>이 접근법이 많은 라인을 출력하지만, 즉석에서 문제에 대해서 손에 잡히는 단서는 최소한 준다. 그래서 words를 출력하는 출력문을 5번째 라인 앞에 추가한다. “Debug:”를 접두어로 라인에 추가하여, 정상적인 출력과 디버그 출력을 구분한다.</p>
<div class="sourceCode" id="cb417"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fhand</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/connections.html">file</a></span><span class="op">(</span><span class="st">'data/mbox-short.txt'</span>, <span class="st">"r"</span><span class="op">)</span>
<span class="kw">for</span><span class="op">(</span><span class="va">line</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/readLines.html">readLines</a></span><span class="op">(</span><span class="va">fhand</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">line</span> <span class="op">&lt;-</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_trim.html">str_trim</a></span><span class="op">(</span><span class="va">line</span><span class="op">)</span>
  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Debug"</span>, <span class="va">line</span>, <span class="st">"\n"</span><span class="op">)</span>
  <span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html">str_detect</a></span><span class="op">(</span><span class="va">line</span>, <span class="st">"^From "</span><span class="op">)</span><span class="op">)</span> <span class="kw">next</span>
  
  <span class="va">words</span> <span class="op">&lt;-</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_split.html">str_split</a></span><span class="op">(</span><span class="va">line</span>, <span class="st">" "</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>
  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="va">words</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span>, <span class="st">"\n"</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<p>프로그램을 실행할 때, 많은 출력결과가 스크롤되어 화면 위로 지나간다. 마지막에 디버그 결과물과 역추적(traceback)을 보고 역추적(traceback) 바로 앞에서 무슨 일이 생겼는지 알 수 있다.</p>
<div class="sourceCode" id="cb418"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb418-1"><a href="r-list.html#cb418-1" aria-hidden="true" tabindex="-1"></a>Debug<span class="sc">:</span> <span class="st">'X-DSPAM-Confidence:'</span>, <span class="st">'0.8475'</span></span>
<span id="cb418-2"><a href="r-list.html#cb418-2" aria-hidden="true" tabindex="-1"></a>Debug<span class="sc">:</span> <span class="st">'X-DSPAM-Probability:'</span>, <span class="st">'0.0000'</span></span>
<span id="cb418-3"><a href="r-list.html#cb418-3" aria-hidden="true" tabindex="-1"></a>Debug<span class="sc">:</span> </span></code></pre></div>
<p>각 디버그 라인은 리스트 단어를 출력하는데, 라인을 분할 <code><a href="https://stringr.tidyverse.org/reference/str_split.html">str_split()</a></code> 함수를 활용하여 단어로 만들 때 얻어진다. 프로그램이 실패할 때 리스트 단어는 비었다 ’’. 텍스트 편집기로 파일을 열어 살펴보면 그 지점은 다음과 같다.</p>
<div class="sourceCode" id="cb419"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb419-1"><a href="r-list.html#cb419-1" aria-hidden="true" tabindex="-1"></a>X<span class="sc">-</span>DSPAM<span class="sc">-</span>Result<span class="sc">:</span> Innocent</span>
<span id="cb419-2"><a href="r-list.html#cb419-2" aria-hidden="true" tabindex="-1"></a>X<span class="sc">-</span>DSPAM<span class="sc">-</span>Processed<span class="sc">:</span> Sat Jan <span class="dv">5</span> <span class="dv">09</span><span class="sc">:</span><span class="dv">14</span><span class="sc">:</span><span class="dv">16</span> <span class="dv">2008</span></span>
<span id="cb419-3"><a href="r-list.html#cb419-3" aria-hidden="true" tabindex="-1"></a>X<span class="sc">-</span>DSPAM<span class="sc">-</span>Confidence<span class="sc">:</span> <span class="fl">0.8475</span></span>
<span id="cb419-4"><a href="r-list.html#cb419-4" aria-hidden="true" tabindex="-1"></a>X<span class="sc">-</span>DSPAM<span class="sc">-</span>Probability<span class="sc">:</span> <span class="fl">0.0000</span></span>
<span id="cb419-5"><a href="r-list.html#cb419-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb419-6"><a href="r-list.html#cb419-6" aria-hidden="true" tabindex="-1"></a>Details<span class="sc">:</span> http<span class="sc">:</span><span class="er">//</span>source.sakaiproject.org<span class="sc">/</span>viewsvn<span class="sc">/</span>?view<span class="ot">=</span>rev<span class="sc">&amp;</span>rev<span class="ot">=</span><span class="dv">39772</span></span></code></pre></div>
<p>프로그램이 빈 라인을 만났을 때, 오류가 발생한다. 물론, 빈 라인은 ‘0’ 단어 (“zero words”)다. 프로그램을 작성할 때, 왜 이것을 생각하지 못했을까? 첫 단어(word[1])가 “From”과 일치하는지 코드가 점검할 때, “인덱스 범위 오류(index out of range)”가 발생한다.</p>
<p>물론, 첫 단어가 없다면 첫 단어 점검을 회피하는 <strong>가디언 코드(guardian code)</strong>를 삽입하기 최적 장소이기는 하다. 코드를 보호하는 방법은 많다. 첫 단어를 살펴보기 전에 단어의 갯수를 확인하는 방법을 택한다.</p>
<div class="sourceCode" id="cb420"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fhand</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/connections.html">file</a></span><span class="op">(</span><span class="st">'data/mbox-short.txt'</span>, <span class="st">"r"</span><span class="op">)</span>
<span class="kw">for</span><span class="op">(</span><span class="va">line</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/readLines.html">readLines</a></span><span class="op">(</span><span class="va">fhand</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">line</span> <span class="op">&lt;-</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_trim.html">str_trim</a></span><span class="op">(</span><span class="va">line</span><span class="op">)</span>
  <span class="co"># cat("Debug", line, "\n")</span>
  <span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">words</span><span class="op">)</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="kw">next</span>
  <span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html">str_detect</a></span><span class="op">(</span><span class="va">line</span>, <span class="st">"^From "</span><span class="op">)</span><span class="op">)</span> <span class="kw">next</span>
  
  <span class="va">words</span> <span class="op">&lt;-</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_split.html">str_split</a></span><span class="op">(</span><span class="va">line</span>, <span class="st">" "</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>
  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="va">words</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span>, <span class="st">"\n"</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<p>변경한 코드가 실패해서 다시 디버그할 경우를 대비해서, <code>print</code>문을 제거하는 대신에 <code>print</code>문을 주석 처리한다. 그리고 나서, 단어가 ‘0’ 인지를 살펴보고 만약 ‘0’ 이면, 파일 다음 라인으로 건너뛰도록 <code><a href="https://rdrr.io/r/base/Control.html">next</a></code>문을 사용하는 가디언 문장(guardian statement)을 추가한다.</p>
<p>두 개 <code><a href="https://rdrr.io/r/base/Control.html">next</a></code>문이 “흥미롭고” 좀더 처리가 필요한 라인 집합을 정제하도록 돕는 것으로 생각할 수 있다. 단어가 없는 라인은 “흥미 없어서” 다음 라인으로 건너뛴다. 첫 단어에 “From”이 없는 라인도 “흥미 없어서” 건너뛴다.</p>
<p>변경된 프로그램이 성공적으로 실행되어서, 아마도 올바르게 작성된 것으로 보인다. 가디언 문장(guardian statement)이 <code>words[1]</code>가 정상작동할 것이라는 것을 확인해 주지만, 충분하지 않을 수도 있다. 프로그램을 작성할 때, “무엇이 잘못 될 수 있을까?”를 항상 생각해야만 한다.</p>
<p><strong>연습문제:</strong> 상기 프로그램의 어느 라인이 여전히 적절하게 보호되지 않은지를 생각해 보세요. 텍스트 파일을 구성해서 프로그램이 실패하도록 만들 수 있는지 살펴보세요. 그리고 나서, 프로그램을 변경해서 라인이 적절하게 보호되게 하고, 새로운 텍스트 파일을 잘 다룰 수 있도록 시험하세요.</p>
<p><strong>연습문제:</strong> 두 <code>if</code> 문 없이, 상기 예제의 가디언 코드(guardian code)를 다시 작성하세요. 대신에 단일 <code>if</code>문과 <code>&amp;</code> 논리 연산자를 사용하는 복합 논리 표현식을 사용하세요.</p>
</div>
<div id="r-list-terminology" class="section level2" number="9.14">
<h2>
<span class="header-section-number">9.14</span> 용어정의<a class="anchor" aria-label="anchor" href="#r-list-terminology"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>
<strong>에일리어싱(aliasing)</strong>: 하나 혹은 그 이상의 변수가 동일한 객체를 참조하는 상황.</li>
<li>
<strong>구분자(delimiter)</strong>: 문자열이 어디서 분할되어져야 할지를 표기하기 위해서 사용되는 문자나 문자열.</li>
<li>
<strong>요소(element)</strong>: 리스트 혹은 다른 순서(sequence) 값의 하나로 항목(item)이라고도 한다.</li>
<li>
<strong>동등한(equivalent)</strong>: 같은 값을 가짐.</li>
<li>
<strong>인덱스(index)</strong>: 리스트의 요소를 지칭하는 정수 값.</li>
<li>
<strong>동일한(identical)</strong>: 동등을 함축하는 같은 객체임.</li>
<li>
<strong>리스트(list)</strong>: 순서(sequence) 값.</li>
<li>
<strong>리스트 운행법(list traversal)</strong>: 리스트의 각 요소를 순차적으로 접근함.</li>
<li>
<strong>중첩 리스트(nested list)</strong>: 또 다른 리스트의 요소인 리스트.</li>
<li>
<strong>객체(object)</strong>: 변수가 참조할 수 있는 무엇. 객체는 자료형(type)과 값(value)을 가진다.</li>
<li>
<strong>참조(reference)</strong>: 변수와 값의 연관.</li>
</ul>
</div>
<div id="r-list-ex" class="section level2" number="9.15">
<h2>
<span class="header-section-number">9.15</span> 연습문제<a class="anchor" aria-label="anchor" href="#r-list-ex"><i class="fas fa-link"></i></a>
</h2>
<ol style="list-style-type: decimal">
<li>
<a href="http://www.py4inf.com/code/romeo.txt" class="uri">http://www.py4inf.com/code/romeo.txt</a>에서 파일 사본을 다운로드 받으세요. <code>romeo.txt</code> 파일을 열어, 한 줄씩 읽어들이는 프로그램을 작성하세요. 각 라인마다 stringr 팩키지에서 분할 <code><a href="https://stringr.tidyverse.org/reference/str_split.html">str_split()</a></code> 함수를 사용하여 라인을 단어 리스트로 쪼개세요.</li>
</ol>
<p>각 단어마다, 단어가 이미 리스트에 존재하는지를 확인하세요. 만약 단어가 리스트에 없다면, 리스트에 새 단어로 추가하세요.</p>
<p>프로그램이 완료되면, 알파벳 순으로 결과 단어를 정렬하고 출력하세요.</p>
<div class="sourceCode" id="cb421"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb421-1"><a href="r-list.html#cb421-1" aria-hidden="true" tabindex="-1"></a>Enter file<span class="sc">:</span> romeo.txt</span>
<span id="cb421-2"><a href="r-list.html#cb421-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">'Arise'</span>, <span class="st">'But'</span>, <span class="st">'It'</span>, <span class="st">'Juliet'</span>, <span class="st">'Who'</span>, <span class="st">'already'</span>,</span>
<span id="cb421-3"><a href="r-list.html#cb421-3" aria-hidden="true" tabindex="-1"></a><span class="st">'and'</span>, <span class="st">'breaks'</span>, <span class="st">'east'</span>, <span class="st">'envious'</span>, <span class="st">'fair'</span>, <span class="st">'grief'</span>,</span>
<span id="cb421-4"><a href="r-list.html#cb421-4" aria-hidden="true" tabindex="-1"></a><span class="st">'is'</span>, <span class="st">'kill'</span>, <span class="st">'light'</span>, <span class="st">'moon'</span>, <span class="st">'pale'</span>, <span class="st">'sick'</span>, <span class="st">'soft'</span>,</span>
<span id="cb421-5"><a href="r-list.html#cb421-5" aria-hidden="true" tabindex="-1"></a><span class="st">'sun'</span>, <span class="st">'the'</span>, <span class="st">'through'</span>, <span class="st">'what'</span>, <span class="st">'window'</span>,</span>
<span id="cb421-6"><a href="r-list.html#cb421-6" aria-hidden="true" tabindex="-1"></a><span class="st">'with'</span>, <span class="st">'yonder'</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>전자우편 데이터를 읽어 들이는 프로그램을 작성하세요. “From”으로 시작하는 라인을 발견했을 때, stringr 팩키지에서 분할 <code><a href="https://stringr.tidyverse.org/reference/str_split.html">str_split()</a></code> 함수를 사용하여 라인을 단어로 쪼개세요. “From” 라인의 두번째 단어, 누가 메시지를 보냈는지에 관심이 있다.</li>
</ol>
<p><code>From stephen.marquard@uct.ac.za Sat Jan  5 09:14:16 2008</code></p>
<p>“From” 라인을 파싱하여 각 “From”라인의 두번째 단어를 출력한다. 그리고 나서, “From:”이 아닌 “From”라인 갯수를 세고, 끝에 갯수를 출력한다.</p>
<p>여기 몇 줄을 삭제한 출력 예시가 있다.</p>
<div class="sourceCode" id="cb422"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb422-1"><a href="r-list.html#cb422-1" aria-hidden="true" tabindex="-1"></a>Rscript fromcount.R</span>
<span id="cb422-2"><a href="r-list.html#cb422-2" aria-hidden="true" tabindex="-1"></a>Enter a file name<span class="sc">:</span> mbox<span class="sc">-</span>short.txt</span>
<span id="cb422-3"><a href="r-list.html#cb422-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb422-4"><a href="r-list.html#cb422-4" aria-hidden="true" tabindex="-1"></a>stephen.marquard<span class="sc">@</span>uct.ac.za</span>
<span id="cb422-5"><a href="r-list.html#cb422-5" aria-hidden="true" tabindex="-1"></a>louis<span class="sc">@</span>media.berkeley.edu</span>
<span id="cb422-6"><a href="r-list.html#cb422-6" aria-hidden="true" tabindex="-1"></a>zqian<span class="sc">@</span>umich.edu</span>
<span id="cb422-7"><a href="r-list.html#cb422-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb422-8"><a href="r-list.html#cb422-8" aria-hidden="true" tabindex="-1"></a>[...some output removed...]</span>
<span id="cb422-9"><a href="r-list.html#cb422-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb422-10"><a href="r-list.html#cb422-10" aria-hidden="true" tabindex="-1"></a>ray<span class="sc">@</span>media.berkeley.edu</span>
<span id="cb422-11"><a href="r-list.html#cb422-11" aria-hidden="true" tabindex="-1"></a>cwen<span class="sc">@</span>iupui.edu</span>
<span id="cb422-12"><a href="r-list.html#cb422-12" aria-hidden="true" tabindex="-1"></a>cwen<span class="sc">@</span>iupui.edu</span>
<span id="cb422-13"><a href="r-list.html#cb422-13" aria-hidden="true" tabindex="-1"></a>cwen<span class="sc">@</span>iupui.edu</span>
<span id="cb422-14"><a href="r-list.html#cb422-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb422-15"><a href="r-list.html#cb422-15" aria-hidden="true" tabindex="-1"></a>There were <span class="dv">27</span> lines <span class="cf">in</span> the file with From as the first word</span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>사용자가 숫자 리스트를 입력하고, 입력한 숫자 중에 최대값과 최소값을 출력하고 사용자가 “done”을 입력할 때 종료하는 프로그램을 다시 작성하세요. 사용자가 입력한 숫자를 리스트에 저장하고, <code><a href="https://rdrr.io/r/base/Extremes.html">max()</a></code> 과 <code><a href="https://rdrr.io/r/base/Extremes.html">min()</a></code> 함수를 사용하여 루프가 끝나면, 최대값과 최소값을 출력하는 프로그램을 작성하세요.</li>
</ol>
<div class="sourceCode" id="cb423"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb423-1"><a href="r-list.html#cb423-1" aria-hidden="true" tabindex="-1"></a>Enter a number<span class="sc">:</span> <span class="dv">6</span></span>
<span id="cb423-2"><a href="r-list.html#cb423-2" aria-hidden="true" tabindex="-1"></a>Enter a number<span class="sc">:</span> <span class="dv">2</span></span>
<span id="cb423-3"><a href="r-list.html#cb423-3" aria-hidden="true" tabindex="-1"></a>Enter a number<span class="sc">:</span> <span class="dv">9</span></span>
<span id="cb423-4"><a href="r-list.html#cb423-4" aria-hidden="true" tabindex="-1"></a>Enter a number<span class="sc">:</span> <span class="dv">3</span></span>
<span id="cb423-5"><a href="r-list.html#cb423-5" aria-hidden="true" tabindex="-1"></a>Enter a number<span class="sc">:</span> <span class="dv">5</span></span>
<span id="cb423-6"><a href="r-list.html#cb423-6" aria-hidden="true" tabindex="-1"></a>Enter a number<span class="sc">:</span> done</span>
<span id="cb423-7"><a href="r-list.html#cb423-7" aria-hidden="true" tabindex="-1"></a>Maximum<span class="sc">:</span> <span class="fl">9.0</span></span>
<span id="cb423-8"><a href="r-list.html#cb423-8" aria-hidden="true" tabindex="-1"></a>Minimum<span class="sc">:</span> <span class="fl">2.0</span></span></code></pre></div>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="r-file.html"><span class="header-section-number">8</span> 파일</a></div>
<div class="next"><a href="named-list.html"><span class="header-section-number">10</span> 딕셔너리</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#r-list"><span class="header-section-number">9</span> 리스트 (List)</a></li>
<li><a class="nav-link" href="#r-list-sequence"><span class="header-section-number">9.1</span> 리스트는 순서(sequence)다.</a></li>
<li><a class="nav-link" href="#r-list-mutable"><span class="header-section-number">9.2</span> 리스트는 변경가능하다.</a></li>
<li><a class="nav-link" href="#r-list-traversal"><span class="header-section-number">9.3</span> 리스트 순행법</a></li>
<li><a class="nav-link" href="#r-list-operator"><span class="header-section-number">9.4</span> 리스트 연산자</a></li>
<li><a class="nav-link" href="#r-list-slice"><span class="header-section-number">9.5</span> 리스트 슬라이스</a></li>
<li><a class="nav-link" href="#r-list-function"><span class="header-section-number">9.6</span> 리스트 함수</a></li>
<li><a class="nav-link" href="#r-list-delete"><span class="header-section-number">9.7</span> 리스트 요소 삭제</a></li>
<li><a class="nav-link" href="#%EB%A6%AC%EC%8A%A4%ED%8A%B8%EC%99%80-%ED%95%A8%EC%88%98"><span class="header-section-number">9.8</span> 리스트와 함수</a></li>
<li><a class="nav-link" href="#r-list-string"><span class="header-section-number">9.9</span> 리스트와 문자열</a></li>
<li><a class="nav-link" href="#r-list-parsing"><span class="header-section-number">9.10</span> 라인 파싱하기</a></li>
<li><a class="nav-link" href="#r-list-object-value"><span class="header-section-number">9.11</span> 객체와 값(value)</a></li>
<li><a class="nav-link" href="#r-list-aliasing"><span class="header-section-number">9.12</span> 에일리어싱(Aliasing)</a></li>
<li><a class="nav-link" href="#r-list-debug"><span class="header-section-number">9.13</span> 디버깅</a></li>
<li><a class="nav-link" href="#r-list-terminology"><span class="header-section-number">9.14</span> 용어정의</a></li>
<li><a class="nav-link" href="#r-list-ex"><span class="header-section-number">9.15</span> 연습문제</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>데이터 과학 프로그래밍</strong>" was written by 한국 알(R) 사용자회. It was last built on 2022-05-19.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
